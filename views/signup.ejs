<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SOBIE - Sign Up</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/styles/sobie-styles.css">
</head>

<body class="container-fluid">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">
        <img src="/assets/sobie-icon.svg" alt="SOBIE Logo" width="40">
      </a>
      <span class="navbar-text">SOBIE Sign Up</span>
    </div>
  </nav>

  <div class="container">
    <form action="/signup" method="POST">
      <div class="card mb-4">
        <div class="card-header">Account Details</div>
        <div class="card-body">
          <!-- Names -->
          <div class="row mb-3">
            <div class="col">
              <label for="firstName" class="form-label">First Name</label>
              <input type="text" class="form-control" name="firstName" id="firstName" required>
            </div>
            <div class="col">
              <label for="lastName" class="form-label">Last Name</label>
              <input type="text" class="form-control" name="lastName" id="lastName" required>
            </div>
          </div>

          <!-- Email + Username -->
          <div class="mb-3">
            <label for="email" class="form-label">Email Address</label>
            <input type="email" class="form-control" name="email" id="email" required>
          </div>

          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control" name="username" id="username" required>
          </div>

          <!-- Password + Confirmation -->
          <div class="row mb-3">
            <div class="col">
              <label for="password" class="form-label">Password</label>
              <input type="password" class="form-control" name="password" id="password" required>
            </div>
            <div class="col">
              <label for="confirmPassword" class="form-label">Confirm Password</label>
              <input type="password" class="form-control" name="confirmPassword" id="confirmPassword" required>
            </div>
          </div>

          <!-- Role -->
          <div class="mb-3">
            <label for="role" class="form-label">Registering As</label>
            <select class="form-select" id="role" name="role" required>
              <option value="">Select Role</option>
              <option value="attendee">Attendee</option>
              <option value="researcher">Researcher</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Student/Faculty Toggle -->
      <div class="mb-3">
        <label class="form-label">Are you a student?</label><br>
        <div class="btn-group" role="group">
          <input type="radio" class="btn-check" name="isStudent" id="studentYes" value="yes" required>
          <label class="btn btn-outline-primary" for="studentYes">Yes</label>

          <input type="radio" class="btn-check" name="isStudent" id="studentNo" value="no" required>
          <label class="btn btn-outline-primary" for="studentNo">No</label>
        </div>
      </div>

      <!-- Student Info -->
      <div class="card mb-4" id="studentSection" style="display:none;">
        <div class="card-header">Student Information</div>
        <div class="card-body">
          <div class="mb-3">
            <label for="studentAffiliation" class="form-label">Academic Affiliation</label>
            <input type="text" class="form-control" id="studentAffiliation" name="studentAffiliation">
          </div>
          <div class="mb-3">
            <label for="studentProgram" class="form-label">Program of Study</label>
            <input type="text" class="form-control" id="studentProgram" name="studentProgram">
          </div>
          <div class="mb-3">
            <label for="studentClass" class="form-label">Classification</label>
            <select class="form-select" id="studentClass" name="studentClass">
              <option value="">Select Classification</option>
              <option value="undergraduate">Undergraduate</option>
              <option value="graduate">Graduate</option>
              <option value="doctoral">Doctoral</option>
              <option value="other">Other</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Faculty Info -->
      <div class="card mb-4" id="facultySection" style="display:none;">
        <div class="card-header">Faculty / Professional Information</div>
        <div class="card-body">
          <div class="mb-3">
            <label for="facultyAffiliation" class="form-label">University / Organization</label>
            <input type="text" class="form-control" id="facultyAffiliation" name="facultyAffiliation">
          </div>
          <div class="mb-3">
            <label for="facultyTitle" class="form-label">Academic Rank / Job Title</label>
            <input type="text" class="form-control" id="facultyTitle" name="facultyTitle">
          </div>
        </div>
      </div>

      <!-- Research Section -->
      <div class="card mb-4" id="researchSection" style="display:none;">
        <div class="card-header">Research Submission</div>
        <div class="card-body">
          <div class="mb-3">
            <label for="researchTitle" class="form-label">Research Title</label>
            <input type="text" class="form-control" id="researchTitle" name="researchTitle">
          </div>
          <div class="mb-3">
            <label for="researchAbstract" class="form-label">Abstract</label>
            <textarea class="form-control" id="researchAbstract" name="researchAbstract" rows="4"></textarea>
          </div>
          <div class="mb-3">
            <label for="coAuthorsRawInput" class="form-label">Co-Authors (comma separated)</label>
            <input type="text" class="form-control" id="coAuthorsRawInput" name="coAuthorsRawInput">
          </div>
          <div class="mb-3">
            <label for="sessionPreference" class="form-label">Preferred Session</label>
            <select class="form-select" id="sessionPreference" name="sessionPreference">
              <option value="">No Preference</option>
              <option value="studentSession">Student Session</option>
              <option value="facultySession">Faculty Session</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="text-center mb-5">
        <button type="submit" class="btn btn-success px-4 py-2">Register Account</button>
      </div>
    </form>
  </div>

  <footer class="py-3 my-2">
    <ul class="nav justify-content-center border-top pt-3 mb-3">
      <li class="nav-item">
        <a href="https://sobieconference.org" class="nav-link px-2 text-body-secondary">
          &copy; 2025 SOBIE | sobieconference.org
        </a>
      </li>
    </ul>
  </footer>

  <!-- Script Section -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const roleSelect = document.getElementById('role');
      const researchSection = document.getElementById('researchSection');
      const studentSection = document.getElementById('studentSection');
      const facultySection = document.getElementById('facultySection');
      const studentYes = document.getElementById('studentYes');
      const studentNo = document.getElementById('studentNo');

      // Toggle research section
      roleSelect.addEventListener('change', () => {
        researchSection.style.display = roleSelect.value === 'researcher' ? 'block' : 'none';
      });

      // Toggle student/faculty sections
      studentYes.addEventListener('change', () => {
        studentSection.style.display = 'block';
        facultySection.style.display = 'none';
      });
      studentNo.addEventListener('change', () => {
        studentSection.style.display = 'none';
        facultySection.style.display = 'block';
      });

      // Password confirmation validation
      const form = document.querySelector('form');
      form.addEventListener('submit', (e) => {
        const password = document.getElementById('password').value;
        const confirm = document.getElementById('confirmPassword').value;
        if (password !== confirm) {
          e.preventDefault();
          alert("Passwords do not match.");
        }
      });
    });
  </script>
</body>
</html>